=== NEW SESSION STARTED 2025-09-17 20:13:56 ===
2025-09-17 20:13:56 [LOCALTEST] INFO: AUTH TIMING: GetCurrentUser() START
2025-09-17 20:13:56 [LOCALTEST] INFO: AUTH TIMING: Username resolved to 'th3882' in 1ms
2025-09-17 20:13:56 [LOCALTEST] INFO: WHITELIST: Checking database first for user th3882
2025-09-17 20:13:58 [LOCALTEST] ERROR: DEBUG: Returned from CheckUserForWhitelist, result = FOUND
2025-09-17 20:13:58 [LOCALTEST] INFO: WHITELIST HIT: User th3882 found in database, skipping LDAP check
2025-09-17 20:13:58 [LOCALTEST] INFO: AUTH TIMING: LDAP validation took 1931,527ms
2025-09-17 20:13:58 [LOCALTEST] INFO: AUTH TIMING: GetCurrentUser() COMPLETE in 1932ms
2025-09-17 20:13:58 [LOCALTEST] INFO: GetTeams: 1 teams loaded in 468ms
2025-09-17 20:14:31 [LOCALTEST] INFO: GetTeams: 1 teams loaded in 26ms
2025-09-17 20:14:34 [LOCALTEST] INFO: GetTeams: 1 teams loaded in 25ms
2025-09-17 20:14:34 [LOCALTEST] INFO: CheckManagerConflict: No conflict found for user 'aa0797' in 464ms
2025-09-17 20:14:34 [LOCALTEST] INFO: AddTeamWithRoles START - ManagerId: aa0797, Name: ASKO AKKERSDIJK
2025-09-17 20:14:35 [LOCALTEST] INFO: AddTeamWithRoles SUCCESS: Manager 'aa0797' created as team
2025-09-17 20:14:37 [LOCALTEST] INFO: GetTeams: 2 teams loaded in 25ms
2025-09-17 20:15:19 [LOCALTEST] INFO: GetTeams: 3 teams loaded in 26ms
2025-09-17 20:16:14 [LOCALTEST] INFO: GetTeams: 3 teams loaded in 25ms
2025-09-17 20:16:16 [LOCALTEST] INFO: GetTeamMembersWithRoles: 2 members for team 'SEPELA, Pavol' in 51ms
2025-09-17 20:16:16 [LOCALTEST] INFO: GetARAHours: 0 records in 25ms
2025-09-17 20:16:27 [LOCALTEST] INFO: GetTeamMembersWithRoles: 2 members for team 'SEPELA, Pavol' in 50ms
2025-09-17 20:16:31 [LOCALTEST] INFO: GetTeamMembersWithRoles: 2 members for team 'SEPELA, Pavol' in 50ms
2025-09-17 20:16:31 [LOCALTEST] ERROR: FORCE LOG: CheckUserMemberRole START - userId: od2620, excludeTeam: SEPELA, Pavol
2025-09-17 20:16:32 [LOCALTEST] ERROR: FORCE LOG: CheckUserMemberRole query: SELECT r.teamName FROM AWSuserRoles r INNER JOIN AWSteams t ON r.teamName = t.TeamName WHERE r.userId = @userId AND r.role = 'member' AND r.teamName != @excludeTeamName AND (t.IsTeamDisabled = 0 OR t.IsTeamDisabled IS NULL) LIMIT 1
2025-09-17 20:16:32 [LOCALTEST] ERROR: FORCE LOG: CheckUserMemberRole result: NULL
2025-09-17 20:16:32 [LOCALTEST] ERROR: AddTeamMemberWithRoles ERROR: Cannot add or update a child row: a foreign key constraint fails (`TSI_ASSET_AUTOMATION`.`AWSuserRoles`, CONSTRAINT `fk_roles_team` FOREIGN KEY (`teamName`) REFERENCES `AWSteams` (`TeamName`) ON DELETE CASCADE ON UPDATE CASCADE) | StackTrace:    at MySql.Data.MySqlClient.MySqlStream.<ReadPacketAsync>d__30.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at MySql.Data.MySqlClient.NativeDriver.<GetResultAsync>d__45.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at MySql.Data.MySqlClient.Driver.<GetResultAsync>d__85.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at MySql.Data.MySqlClient.Driver.<NextResultAsync>d__84.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at MySql.Data.MySqlClient.MySqlDataReader.<NextResultAsync>d__97.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at MySql.Data.MySqlClient.MySqlDataReader.<NextResultAsync>d__97.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at MySql.Data.MySqlClient.MySqlCommand.<ExecuteReaderAsync>d__111.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at MySql.Data.MySqlClient.MySqlCommand.<ExecuteReaderAsync>d__111.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at MySql.Data.MySqlClient.MySqlCommand.<ExecuteReaderAsync>d__111.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at MySql.Data.MySqlClient.MySqlCommand.<ExecuteNonQueryAsync>d__100.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at ARAworkloadScheduler.DataAccess.AddTeamMemberWithRoles(String userId, String firstName, String lastName, String teamName) in C:\Users\th3882\OneDrive - AT&T Services, Inc\Documents\Programing\VisualBasic\ATT\Dev\ARAworkloadScheduler\Utils\DataAccess.vb:line 420
